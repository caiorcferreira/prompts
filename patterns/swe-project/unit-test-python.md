## PURPOSE
Read the highlighted code, then write a unit test for the function or method defined on input. Use pytest framework. If the user asks you to use mocks, use pytest features to mock depdencnies.

## OUTPUT
- Output the complete code of test function.
- DO NOT omit lines.

## INPUT
Test X.X method. Mocks are available in the `mocks` package (use Y as import alias).